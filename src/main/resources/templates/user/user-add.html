<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Add User - CG Library</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <!-- Bootstrap 5.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

  <style>
    :root{
      /* Mimo-like palette: mint / lime / teal with friendly ink */
      --mimo-mint: #35e6a7;
      --mimo-lime: #a7f03b;
      --mimo-teal: #00d2a8;
      --mimo-blue: #4cc9f0;
      --ink: #0f172a;
      --muted: #64748b;
      --panel: #ffffff;
      --ring: rgba(53, 230, 167, 0.32);
      --border: #e5e7eb;
      --bg: #f7fafc;
      --card-shadow: 0 16px 40px rgba(0,0,0,.10);
    }

    html, body { height: 100%; }
    body{
      margin:0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color: var(--ink);
      background:
        radial-gradient(900px 500px at 12% -10%, rgba(53,230,167,.18), transparent 60%),
        radial-gradient(1000px 600px at 110% 0%, rgba(167,240,59,.15), transparent 55%),
        var(--bg);
    }

    /* ===== NAVBAR (Mimo style: light, rounded, cheerful) ===== */
    .navbar{
      background: #ffffff !important;
      border-bottom: 1px solid var(--border);
      padding: .8rem 0;
    }
    .navbar-brand{
      font-weight: 800;
      letter-spacing: .2px;
      color: var(--ink) !important;
      display: flex; align-items: center; gap: .5rem;
    }
    .brand-badge{
      display:inline-flex; align-items:center; justify-content:center;
      width: 36px; height:36px; border-radius: 10px;
      background: linear-gradient(135deg, var(--mimo-mint), var(--mimo-lime));
      color:#0b3b2e; font-weight: 900;
      box-shadow: 0 6px 16px rgba(53,230,167,.35);
    }
    .navbar .nav-link{
      color:#334155 !important;
      border-radius: 999px;
      padding: .4rem .8rem;
      font-weight: 600;
    }
    .navbar .nav-link.active,
    .navbar .nav-link:hover{
      background: rgba(53,230,167,.14);
      color:#0f172a !important;
    }

    /* ===== PAGE WRAP ===== */
    .page-wrap{ padding: 56px 0 84px; }

    /* ===== CARD ===== */
    .mimo-card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      overflow: hidden;
    }
    /* playful gradient bar on top */
    .mimo-card::before{
      content:"";
      position:absolute;
      left:0; right:0; top:0; height:6px;
      background: linear-gradient(90deg, var(--mimo-mint), var(--mimo-lime), var(--mimo-blue));
    }
    .mimo-inner{ padding: 2rem 1.5rem; position: relative; }
    @media (min-width: 768px){
      .mimo-inner{ padding: 2.25rem 2.5rem; }
    }

    /* ===== HEADERS ===== */
    .kicker{
      display:inline-flex; align-items:center; gap:.5rem;
      font-size:.8rem; font-weight:800; letter-spacing:.12em; text-transform:uppercase;
      color: #0f5132;
      background: rgba(53,230,167,.16);
      border: 1px solid rgba(53,230,167,.35);
      padding: .3rem .6rem; border-radius: 999px;
    }
    .page-title{ font-weight: 800; margin: .5rem 0 .25rem; }
    .page-sub{ color: var(--muted); margin: 0; }

    .divider{
      height: 1px;
      background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
      margin: 1rem 0 1.25rem;
    }

    /* ===== FORM ===== */
    .form-label{
      color:#0b1220; font-weight: 700; font-size:.95rem;
    }
    .form-control, .form-select{
      background: #ffffff;
      border: 1.5px solid #e6eef5;
      color: #0f172a;
      border-radius: 14px;
      padding: .9rem 1rem;
      transition: border-color .15s ease, box-shadow .15s ease, transform .05s ease;
    }
    .form-control::placeholder{ color: #94a3b8; }
    .form-control:focus, .form-select:focus{
      border-color: var(--mimo-teal);
      box-shadow: 0 0 0 6px var(--ring);
      outline: none;
    }

    .hint{
      color:#64748b; font-size:.85rem;
    }

    /* ===== BUTTONS ===== */
    .btn-mimo{
      background: linear-gradient(135deg, var(--mimo-mint), var(--mimo-teal)) !important;
      color:#052e26 !important;
      border: 1px solid rgba(0,0,0,.04) !important;
      border-radius: 14px;
      font-weight: 800;
      letter-spacing: .2px;
      padding: .95rem 1rem;
      box-shadow: 0 12px 24px rgba(53,230,167,.28);
      transition: transform .1s ease, box-shadow .15s ease, filter .12s ease;
    }
    .btn-mimo:hover{
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 16px 28px rgba(53,230,167,.35);
    }
    .btn-ghost{
      background:#ffffff;
      color:#0f172a !important;
      border: 1.5px solid #e6eef5 !important;
      border-radius: 14px;
      padding: .95rem 1rem;
      font-weight: 700;
    }
    .btn-ghost:hover{
      background:#f9fbff;
    }

    /* Accessibility ring for buttons/links */
    :is(a, button):focus-visible{
      outline: 2px solid var(--mimo-teal);
      outline-offset: 2px;
    }

    /* Small success chip */
    .chip{
      display:inline-flex; align-items:center; gap:.4rem;
      font-size:.8rem; font-weight:700; color:#065f46;
      background: #ecfdf5; border:1px solid #a7f3d0; padding:.35rem .6rem; border-radius:12px;
    }
    /* === Library books background image (non-intrusive) === */
body{
  position: relative; /* ensure pseudo-elements layer correctly */
  overflow-x: hidden;
}

/* Background image layer */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -2;
  background-image: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=1920&auto=format&fit=crop');
  background-size: cover;
  background-position: center;
  background-attachment: fixed; /* subtle parallax feel */
  transform: translateZ(0);
}

/* Soft white overlay for readability on top of the photo */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  background: rgba(255,255,255,0.65); /* keep Mimo look readable */
}

  </style>
</head>
<body>

  <!-- NAVBAR (Mimo vibe) -->
  <nav class="navbar navbar-expand-lg navbar-light sticky-top">
    <div class="container">
      <a class="navbar-brand" th:href="@{/}">
        <span class="brand-badge"><i class="bi bi-book"></i></span>
        <span>CG Library</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mimoNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="mimoNav" class="collapse navbar-collapse">
        <div class="navbar-nav ms-auto">
          <a class="nav-link" th:href="@{/authors/list}">Authors</a>
          <a class="nav-link" th:href="@{/books/list}">Books</a>
          <a class="nav-link" th:href="@{/category/list}">Categories</a>
          <a class="nav-link active" th:href="@{/users/list}">Users</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- PAGE -->
  <div class="container page-wrap">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-8 col-xl-7">
        <section class="mimo-card position-relative">
          <div class="mimo-inner">
            <!-- Header -->
            <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between">
              <div>
                <span class="kicker"><i class="bi bi-stars"></i> Add User</span>
                <h3 class="page-title">Create a new library account</h3>
                <p class="page-sub">Invite users to your catalog with the right role.</p>
              </div>
              <div class="mt-3 mt-md-0">
                <a class="btn btn-ghost" th:href="@{/users/list}">
                  <i class="bi bi-arrow-left-short me-1"></i> Back to Users
                </a>
              </div>
            </div>

            <div class="divider"></div>

            <!-- FORM (binds to userDTO) -->
            <form th:action="@{/users/add}" th:object="${userDTO}" method="post">
              <div class="mb-3">
                <label for="userName" class="form-label">Full Name</label>
                <input type="text" th:field="*{userName}" id="userName" class="form-control" placeholder="e.g., John Doe" required />
              </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email Address</label>
                <input type="email" th:field="*{email}" id="email" class="form-control" placeholder="e.g., john@example.com" required />
              </div>

              <div class="row g-3 mb-2">
                <div class="col-md-6">
                  <label for="password" class="form-label">Password</label>
                  <input type="password" th:field="*{password}" id="password" class="form-control" placeholder="••••••••" required />
                </div>
                <div class="col-md-6">
                  <label for="role" class="form-label">User Role</label>
                  <select th:field="*{role}" id="role" class="form-select" required>
                    <option value="" selected disabled>Select Role</option>
                    <option value="VIEWER">VIEWER</option>
                    <!-- Add more roles (e.g., ADMIN, EDITOR) if needed -->
                  </select>
                </div>
              </div>

              <p class="hint mt-2 mb-3">
                <i class="bi bi-shield-check text-success me-1"></i>
                Tip: Viewer access is read‑only, perfect for most members.
              </p>

              <div class="d-grid d-sm-flex gap-3">
                <button type="submit" class="btn btn-mimo flex-fill">
                  <i class="bi bi-person-plus-fill me-1"></i> Create User
                </button>
                <a th:href="@{/users/list}" class="btn btn-ghost flex-fill">
                  <i class="bi bi-x-circle me-1"></i> Cancel
                </a>
              </div>
            </form>

            <!-- Small reassurance chip -->
            <div class="mt-4">
              <span class="chip">
                <i class="bi bi-lock-fill"></i> Secure by default
              </span>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>